<ion-header class="noshow">

  <ion-navbar>
    <ion-title>fidelidade</ion-title>
  </ion-navbar>

</ion-header>

<ion-content>

  <page-header></page-header>

  <div class="row">
    
    <div class="col s12 m7">      
      
      <div *ngFor="let item of fidelidades" class="card horizontal" style="max-height: 120px;">
        <div class="card-image">          
          <img *ngIf="item.foto && item.foto != ''" [src]="Global.filesURL+'/usuarios/'+item.foto" style="width:120px; height: 120px;">
          <img *ngIf="!item.foto || item.foto == ''" src="https://www.naturallyanimals.co.uk/siteimages/_templates/no-image.jpg" style="width:120px; height: 120px;">
        </div>
        <div class="card-stacked" style="overflow:auto;">
          <div class="card-content" style="padding: 0px 0px 0px 15px;">
            <p style="font-size:15px;margin-top:5px;">
              {{ item.titulo_cartao }} <br>
              <b>{{ item.name }}</b> <br>

              <span *ngFor="let i of range( item.qtd_assinaturas )">
                <i *ngIf="item.qtd >= i" class="material-icons" style="font-size:22px;color:#ffcc03;">star</i>
                <i *ngIf="item.qtd < i" class="material-icons" style="font-size:22px;color:#ffcc03;">star_border</i>
              </span>

            </p>            
          </div>
          <div class="card-action" style="padding: 6px 20px;display: flex;justify-content: center;">
            <a style="width: 40%;text-align: center; color:#02659b;" (click)="verCupom(item)">VER</a>
            <a style="width: 40%;text-align: center; margin-right: unset; color:#E53935 !important;" (click)="excluirCartao(item.id)">EXCLUIR</a>
          </div>
        </div>
      </div>

      <div *ngIf="fidelidades && fidelidades.length == 0">
        <p style="text-align: center;">Você não possui pontos.</p>
      </div>

  </div>
  </div>


  <div class="jconfirm jconfirm-modern jconfirm-open" id="modal-qrcode" style="display:none; z-index:9999;">        
      <div class="jconfirm-bg" style="transition-duration: 0.4s; transition-timing-function: cubic-bezier(0.36, 0.55, 0.19, 1);"></div>
      <div class="jconfirm-scrollpane">
          <div class="jconfirm-row">
              <div class="jconfirm-cell">
                  <div class="jconfirm-holder">
                      <div class="jc-bs3-container container">
                          <div class="jc-bs3-row justify-content-md-center justify-content-sm-center justify-content-xs-center justify-content-lg-center">
                              <div class="jconfirm-box-container jconfirm-animated col-md-4 col-md-offset-4 col-sm-6 col-sm-offset-3 col-xs-10 col-xs-offset-1 jconfirm-no-transition" style="transform: translate(0px, 0px); transition-duration: 0.4s; transition-timing-function: cubic-bezier(0.36, 0.55, 0.19, 1);">
                                  <div class="jconfirm-box jconfirm-hilight-shake jconfirm-type-black jconfirm-type-animated" role="dialog" aria-labelledby="jconfirm-box44094" tabindex="-1" style="transition-duration: 0.4s; transition-timing-function: cubic-bezier(0.36, 0.55, 0.19, 1); transition-property: all, margin;">
                                      <div class="jconfirm-closeIcon" style="display: block;" onclick="$('#modal-qrcode').fadeOut('100');">×</div>                                        
                                      <div class="jconfirm-content-pane no-scroll" style="transition-duration: 0.4s; transition-timing-function: cubic-bezier(0.36, 0.55, 0.19, 1);overflow: hidden;margin-bottom:unset;">
                                          <div class="jconfirm-content" id="jconfirm-box44094" style="margin-bottom:unset;">
                                            
                                            <p *ngIf="cartao" style="font-size: 20px;">
                                              {{ cartao.titulo_cartao }} <br>
                                              <b>{{ cartao.name }}</b>
                                            </p>                                            
                                            <br>
                                            <p *ngIf="cartao">{{ cartao.regulamento }}</p>
                                            
                                          </div>
                                      </div>                                        
                                      <div class="jconfirm-clear"></div>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </div>        
  </div>
  
</ion-content>